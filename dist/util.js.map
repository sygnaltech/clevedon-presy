{
  "version": 3,
  "sources": ["../src/util.ts"],
  "sourcesContent": ["\r\n\r\n// Determine Webflow breakpoint?\r\n\r\n\r\n// Utility function to get a query parameter value by name\r\nexport function getQueryParam(name: string): string | null {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    return urlParams.get(name);\r\n}\r\n\r\n\r\n// Add a new async script to the page\r\n// at the end of the body\r\nexport function loadScript(url: string): void {\r\n    const script = document.createElement('script');\r\n    script.src = url;\r\n//    script.async = true;\r\n    document.body.appendChild(script);\r\n}\r\n\r\n// Add a new CSS file to the page\r\nexport function loadCSS(url: string): void {\r\n    const link = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.href = url;\r\n    document.head.appendChild(link);\r\n}\r\n\r\n// Replace an existing script source\r\nexport function replaceScriptSource(element: HTMLScriptElement, newSrc: string): void {\r\n    element.src = newSrc;\r\n}\r\n\r\n// Replace an existing CSS source\r\nexport function replaceCSSLink(element: HTMLLinkElement, newHref: string): void {\r\n    element.href = newHref;\r\n}\r\n\r\n// Function to prepend text to the document title in development mode\r\nexport function prependToTitle(text: string): void {\r\n    document.title = `${text}${document.title}`;\r\n}\r\n\r\n// Function to get the current script URL\r\nexport function getCurrentScriptUrl(): string | null {\r\n    // Check if document.currentScript is supported\r\n    if (document.currentScript) {\r\n        // Cast to HTMLScriptElement and get the src attribute\r\n        const currentScript = document.currentScript as HTMLScriptElement;\r\n        return currentScript.src;\r\n    }\r\n    // For browsers that do not support document.currentScript\r\n    console.error(\"document.currentScript is not supported in this browser.\");\r\n    return null;\r\n}\r\n\r\n\r\nexport function findAncestorWithAttribute(element: HTMLElement, attributeName: string): HTMLElement | null {\r\n    let currentElement: HTMLElement | null = element;\r\n\r\n    while (currentElement) {\r\n        if (currentElement.hasAttribute(attributeName)) {\r\n            return currentElement;\r\n        }\r\n        currentElement = currentElement.parentElement;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function getAncestorAttributeValue(element: HTMLElement, attributeName: string): string | null {\r\n    let currentElement: HTMLElement | null = element;\r\n\r\n    while (currentElement) {\r\n        if (currentElement.hasAttribute(attributeName)) {\r\n            return currentElement.getAttribute(attributeName);\r\n        }\r\n        currentElement = currentElement.parentElement;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function hasAncestorWithAttribute(element: HTMLElement, attributeName: string): boolean {\r\n    return findAncestorWithAttribute(element, attributeName) !== null;\r\n}\r\n\r\nexport function convertToPixels(value: string, contextElement: HTMLElement = document.documentElement): number {\r\n    // Parse the numeric value and unit, including negative values\r\n    const match = value.match(/^(-?\\d+\\.?\\d*)(rem|em|px|vh|vw|%)$/);\r\n    if (!match) throw new Error('Invalid value format');\r\n\r\n    const [, amountStr, unit] = match;\r\n    const amount = parseFloat(amountStr);\r\n\r\n    // Convert based on the unit\r\n    switch (unit) {\r\n        case 'px':\r\n            return amount;\r\n        case 'rem':\r\n            return amount * parseFloat(getComputedStyle(document.documentElement).fontSize);\r\n        case 'em':\r\n            // For 'em', it's relative to the font-size of the context element.\r\n            return amount * parseFloat(getComputedStyle(contextElement).fontSize);\r\n        case 'vh':\r\n            return amount * window.innerHeight / 100;\r\n        case 'vw':\r\n            return amount * window.innerWidth / 100;\r\n        case '%':\r\n            // For %, it's relative to the parent element's size. This can be tricky as it depends on the property (width, height, font-size, etc.).\r\n            // In this example, we'll use it relative to the width of the context element, but you might need to adjust based on your specific use case.\r\n            return amount * contextElement.clientWidth / 100;\r\n        default:\r\n            throw new Error('Unsupported unit');\r\n    }\r\n}\r\n\r\n\r\n/*\r\n// Example usage:\r\nconst pixelValue = convertToPixels(\"10vh\");\r\nconsole.log(pixelValue);\r\n*/\r\n\r\n"],
  "mappings": ";;;AAMO,WAAS,cAAc,MAA6B;AACvD,UAAM,YAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM;AAC5D,WAAO,UAAU,IAAI,IAAI;AAAA,EAC7B;AAKO,WAAS,WAAW,KAAmB;AAC1C,UAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,WAAO,MAAM;AAEb,aAAS,KAAK,YAAY,MAAM;AAAA,EACpC;AAGO,WAAS,QAAQ,KAAmB;AACvC,UAAM,OAAO,SAAS,cAAc,MAAM;AAC1C,SAAK,MAAM;AACX,SAAK,OAAO;AACZ,aAAS,KAAK,YAAY,IAAI;AAAA,EAClC;AAGO,WAAS,oBAAoB,SAA4B,QAAsB;AAClF,YAAQ,MAAM;AAAA,EAClB;AAGO,WAAS,eAAe,SAA0B,SAAuB;AAC5E,YAAQ,OAAO;AAAA,EACnB;AAGO,WAAS,eAAe,MAAoB;AAC/C,aAAS,QAAQ,GAAG,OAAO,SAAS;AAAA,EACxC;AAGO,WAAS,sBAAqC;AAEjD,QAAI,SAAS,eAAe;AAExB,YAAM,gBAAgB,SAAS;AAC/B,aAAO,cAAc;AAAA,IACzB;AAEA,YAAQ,MAAM,0DAA0D;AACxE,WAAO;AAAA,EACX;AAGO,WAAS,0BAA0B,SAAsB,eAA2C;AACvG,QAAI,iBAAqC;AAEzC,WAAO,gBAAgB;AACnB,UAAI,eAAe,aAAa,aAAa,GAAG;AAC5C,eAAO;AAAA,MACX;AACA,uBAAiB,eAAe;AAAA,IACpC;AAEA,WAAO;AAAA,EACX;AAEO,WAAS,0BAA0B,SAAsB,eAAsC;AAClG,QAAI,iBAAqC;AAEzC,WAAO,gBAAgB;AACnB,UAAI,eAAe,aAAa,aAAa,GAAG;AAC5C,eAAO,eAAe,aAAa,aAAa;AAAA,MACpD;AACA,uBAAiB,eAAe;AAAA,IACpC;AAEA,WAAO;AAAA,EACX;AAEO,WAAS,yBAAyB,SAAsB,eAAgC;AAC3F,WAAO,0BAA0B,SAAS,aAAa,MAAM;AAAA,EACjE;AAEO,WAAS,gBAAgB,OAAe,iBAA8B,SAAS,iBAAyB;AAE3G,UAAM,QAAQ,MAAM,MAAM,oCAAoC;AAC9D,QAAI,CAAC;AAAO,YAAM,IAAI,MAAM,sBAAsB;AAElD,UAAM,CAAC,EAAE,WAAW,IAAI,IAAI;AAC5B,UAAM,SAAS,WAAW,SAAS;AAGnC,YAAQ,MAAM;AAAA,MACV,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO,SAAS,WAAW,iBAAiB,SAAS,eAAe,EAAE,QAAQ;AAAA,MAClF,KAAK;AAED,eAAO,SAAS,WAAW,iBAAiB,cAAc,EAAE,QAAQ;AAAA,MACxE,KAAK;AACD,eAAO,SAAS,OAAO,cAAc;AAAA,MACzC,KAAK;AACD,eAAO,SAAS,OAAO,aAAa;AAAA,MACxC,KAAK;AAGD,eAAO,SAAS,eAAe,cAAc;AAAA,MACjD;AACI,cAAM,IAAI,MAAM,kBAAkB;AAAA,IAC1C;AAAA,EACJ;",
  "names": []
}
